@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

.scene {
  position: relative;
  width: min(100%, 960px);
  height: clamp(360px, 60vw, 560px);
  border-radius: 2.5rem;
  overflow: hidden;
  border: 6px solid rgba(255, 218, 115, 0.6);
  background: linear-gradient(#8dc7ff 0%, #c8f2ff 38%, #fdf0c0 38%, #f3d580 100%);
  box-shadow: 0 28px 60px rgba(62, 83, 22, 0.25);
}

.scene__camera {
  position: absolute;
  inset: 0;
  padding: clamp(1.5rem, 4vw, 3rem);
  transition: transform 1.5s cubic-bezier(0.16, 1, 0.3, 1), filter 1.5s ease;
  transform-origin: 50% 65%;
}

.scene.stage-0 .scene__camera {
  transform: scale(1) translate(0, 0);
  filter: saturate(1);
}

.scene.stage-1 .scene__camera {
  transform: scale(1.08) translate(-2%, -3%);
  filter: saturate(1.05);
}

.scene.stage-2 .scene__camera {
  transform: scale(1.18) translate(-5%, -7%);
  filter: saturate(1.1) contrast(1.05);
}

.scene.stage-3 .scene__camera {
  transform: scale(1.3) translate(-6%, -10%);
  filter: saturate(1.15) contrast(1.07);
}

.scene.stage-4 .scene__camera {
  transform: scale(1.32) translate(-6%, -10%) rotate(0.6deg);
  filter: saturate(1.2) contrast(1.1);
}

.scene__sky {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.35) 0%, rgba(255, 255, 255, 0) 100%);
  overflow: hidden;
}

.scene__sun {
  position: absolute;
  top: clamp(1.2rem, 5vw, 2.2rem);
  right: clamp(1.2rem, 4vw, 2.5rem);
  width: clamp(60px, 12vw, 110px);
  aspect-ratio: 1;
  background: radial-gradient(circle at 35% 35%, #fff7d6 0%, #fccc4d 55%, #f4a524 100%);
  border-radius: 50%;
  box-shadow: 0 0 60px rgba(255, 197, 67, 0.6);
}

.scene__cloud {
  position: absolute;
  bottom: 12%;
  width: clamp(140px, 22vw, 220px);
  height: clamp(48px, 12vw, 80px);
  background: rgba(255, 255, 255, 0.8);
  border-radius: 999px;
  filter: blur(1px);
}

.scene__cloud--left {
  left: 2%;
  animation: cloud-drift-left 18s linear infinite;
}

.scene__cloud--right {
  right: 12%;
  animation: cloud-drift-right 22s linear infinite;
}

@keyframes cloud-drift-left {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(30px);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes cloud-drift-right {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(-30px);
  }
  100% {
    transform: translateX(0);
  }
}

.scene__fence {
  position: absolute;
  left: -10%;
  right: -10%;
  bottom: 28%;
  height: 30px;
  background: repeating-linear-gradient(
    to right,
    rgba(74, 52, 11, 0.65),
    rgba(74, 52, 11, 0.65) 20px,
    rgba(132, 99, 32, 0.65) 20px,
    rgba(132, 99, 32, 0.65) 40px
  );
  box-shadow:
    inset 0 6px 10px rgba(0, 0, 0, 0.16),
    0 20px 25px rgba(0, 0, 0, 0.2);
  border-radius: 12px;
}

.scene__water {
  position: absolute;
  left: -5%;
  right: -5%;
  bottom: 0;
  height: 55%;
  background: linear-gradient(0deg, #5cb4f1 0%, #82d7ff 45%, rgba(130, 215, 255, 0.2) 65%, transparent 100%);
  overflow: hidden;
}

.scene__ripples {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 40% 60%, rgba(255, 255, 255, 0.45) 0%, rgba(255, 255, 255, 0) 55%),
    radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 50%);
  mix-blend-mode: screen;
  animation: ripple-motion 6s ease-in-out infinite;
}

@keyframes ripple-motion {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(6px, -4px, 0) scale(1.02);
  }
}

.hippo {
  position: absolute;
  left: 36%;
  bottom: 23%;
  width: clamp(200px, 28vw, 260px);
  height: clamp(140px, 20vw, 190px);
  border-radius: 48% 52% 40% 54%;
  background: radial-gradient(circle at 40% 35%, #b79c8b 0%, #8a7263 65%, #6f5d50 100%);
  box-shadow:
    inset 0 -8px 14px rgba(0, 0, 0, 0.25),
    0 24px 40px rgba(43, 33, 18, 0.35);
  transform: translateY(58%);
  transition: transform 1.1s cubic-bezier(0.19, 1, 0.22, 1), filter 0.7s ease;
}

.scene.stage-1 .hippo {
  transform: translateY(12%);
}

.scene.stage-3 .hippo,
.scene.stage-4 .hippo {
  transform: translateY(-6%);
  filter: contrast(1.05);
}

.hippo__head {
  position: absolute;
  top: -32%;
  left: 10%;
  width: 70%;
  height: 70%;
  border-radius: 55% 45% 60% 60%;
  background: radial-gradient(circle at 60% 40%, #c9b2a0 0%, #8b7060 65%, #6d5a4d 100%);
  box-shadow: 0 18px 28px rgba(28, 20, 12, 0.35);
}

.hippo__ear {
  position: absolute;
  top: 8%;
  width: 22%;
  height: 24%;
  border-radius: 50%;
  background: linear-gradient(180deg, #c3a696 0%, #785f52 100%);
}

.hippo__ear--left {
  left: 12%;
  transform: rotate(-12deg);
}

.hippo__ear--right {
  right: 10%;
  transform: rotate(12deg);
}

.hippo__eye {
  position: absolute;
  top: 36%;
  width: 16%;
  height: 22%;
  border-radius: 50%;
  background: #fdf5ec;
  box-shadow: inset 0 0 0 2px rgba(0, 0, 0, 0.2);
}

.hippo__eye--left {
  left: 20%;
}

.hippo__eye--right {
  right: 22%;
}

.hippo__eye::after {
  content: "";
  position: absolute;
  top: 45%;
  left: 37%;
  width: 30%;
  height: 30%;
  background: #2f1a0f;
  border-radius: 50%;
}

.scene.stage-3 .hippo__eye::after,
.scene.stage-4 .hippo__eye::after {
  transform: translateY(-30%);
}

.hippo__nostrils {
  position: absolute;
  bottom: 14%;
  left: 30%;
  right: 30%;
  height: 18%;
  background: radial-gradient(circle, rgba(26, 16, 8, 0.4) 0%, rgba(26, 16, 8, 0) 70%);
  border-radius: 999px;
}

.hippo__tail {
  position: absolute;
  right: -10%;
  top: 45%;
  width: clamp(60px, 11vw, 90px);
  height: clamp(12px, 2.2vw, 16px);
  background: radial-gradient(circle at 0% 50%, #c3a593 0%, #7c6355 100%);
  border-radius: 999px;
  transform-origin: 5% 50%;
}

.scene.stage-2 .hippo__tail,
.scene.stage-3 .hippo__tail,
.scene.stage-4 .hippo__tail {
  animation: tail-wag 0.18s ease-in-out infinite alternate;
}

@keyframes tail-wag {
  from {
    transform: rotate(10deg);
  }
  to {
    transform: rotate(-45deg);
  }
}

.hippo__spray {
  position: absolute;
  top: 46%;
  left: 80%;
  width: clamp(36px, 5vw, 56px);
  height: clamp(22px, 3.1vw, 32px);
  border-radius: 50% 70% 55% 50%;
  background: radial-gradient(circle at 30% 40%, #f5deb3 0%, #b78946 75%, #6b4a1b 100%);
  opacity: 0;
  transform: translate3d(0, 0, 0) scale(0.6);
  filter: drop-shadow(0 12px 10px rgba(0, 0, 0, 0.2));
}

.scene.stage-3 .hippo__spray--1 {
  animation: spray-arc-1 0.9s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.scene.stage-3 .hippo__spray--2 {
  animation: spray-arc-2 0.96s 0.05s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.scene.stage-3 .hippo__spray--3 {
  animation: spray-arc-3 1.05s 0.08s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes spray-arc-1 {
  0% {
    opacity: 0;
    transform: translate3d(0, 0, 0) scale(0.5);
  }
  10% {
    opacity: 1;
  }
  60% {
    transform: translate3d(220px, -80px, 0) scale(0.85) rotate(-12deg);
  }
  100% {
    opacity: 0;
    transform: translate3d(300px, -10px, 0) scale(1) rotate(-2deg);
  }
}

@keyframes spray-arc-2 {
  0% {
    opacity: 0;
    transform: translate3d(0, 0, 0) scale(0.5);
  }
  10% {
    opacity: 1;
  }
  65% {
    transform: translate3d(240px, -120px, 0) scale(0.95) rotate(-22deg);
  }
  100% {
    opacity: 0;
    transform: translate3d(320px, -28px, 0) scale(1.05) rotate(-10deg);
  }
}

@keyframes spray-arc-3 {
  0% {
    opacity: 0;
    transform: translate3d(0, 0, 0) scale(0.4);
  }
  15% {
    opacity: 1;
  }
  70% {
    transform: translate3d(230px, -40px, 0) scale(0.9) rotate(12deg);
  }
  100% {
    opacity: 0;
    transform: translate3d(305px, 20px, 0) scale(1.1) rotate(18deg);
  }
}

.lady {
  position: absolute;
  right: 10%;
  bottom: 24%;
  width: clamp(120px, 18vw, 170px);
  height: clamp(220px, 30vw, 320px);
  display: flex;
  flex-direction: column;
  align-items: center;
  transform-origin: bottom center;
  transition: transform 0.5s ease;
}

.scene.stage-3 .lady {
  transform: rotate(-2deg);
}

.scene.stage-4 .lady {
  transform: rotate(-6deg) translateY(-6px);
}

.lady__hair {
  width: 65%;
  height: 25%;
  background: linear-gradient(160deg, #5c3f28 0%, #3a2414 100%);
  border-radius: 50% 50% 42% 42%;
  box-shadow: inset 0 -6px 12px rgba(0, 0, 0, 0.25);
}

.lady__face {
  position: relative;
  margin-top: -6%;
  width: 58%;
  aspect-ratio: 1;
  background: #ffd9c4;
  border-radius: 50%;
  box-shadow: inset 0 -8px 12px rgba(0, 0, 0, 0.18);
  transition: transform 0.35s ease;
}

.lady__eye {
  position: absolute;
  top: 38%;
  width: 18%;
  height: 20%;
  background: #2b1a0f;
  border-radius: 45% 45% 50% 50%;
  transition: transform 0.35s ease;
}

.lady__eye::after {
  content: "";
  position: absolute;
  top: 26%;
  left: 35%;
  width: 40%;
  height: 40%;
  background: #fff;
  border-radius: 50%;
  opacity: 0.8;
}

.lady__eye--left {
  left: 25%;
}

.lady__eye--right {
  right: 25%;
}

.scene.stage-3 .lady__eye,
.scene.stage-4 .lady__eye {
  transform: scaleY(1.4) translateY(-8%);
}

.lady__mouth {
  position: absolute;
  bottom: 22%;
  left: 34%;
  width: 32%;
  height: 16%;
  background: #a83232;
  border-radius: 0 0 40% 40%;
  transition: transform 0.3s ease, background 0.3s ease;
}

.scene.stage-4 .lady__mouth {
  transform: scale(2.1) translateY(10%);
  background: radial-gradient(circle at 50% 45%, #ffb6a1 0%, #7b1515 70%);
}

.lady__dress {
  margin-top: -3%;
  width: 76%;
  height: 40%;
  background: linear-gradient(160deg, #ff7e7e 0%, #ff4a4a 65%, #d92f2f 100%);
  border-radius: 45% 45% 20% 20%;
  box-shadow: 0 18px 26px rgba(180, 45, 45, 0.35);
}

.lady__arm {
  position: absolute;
  top: 42%;
  width: 16%;
  height: 38%;
  background: #ffd0b5;
  border-radius: 999px;
  transform-origin: top center;
  box-shadow: inset 0 -4px 8px rgba(0, 0, 0, 0.15);
}

.lady__arm--left {
  left: 6%;
  transform: rotate(-22deg);
}

.lady__arm--right {
  right: 2%;
  transform: rotate(18deg);
  display: flex;
  justify-content: flex-start;
  align-items: flex-end;
}

.lady__phone {
  width: 80%;
  height: 55%;
  background: linear-gradient(180deg, #1e1e1e 0%, #3b3b3b 100%);
  border-radius: 12px;
  box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.2);
  position: relative;
}

.lady__phone::after {
  content: "";
  position: absolute;
  top: 18%;
  left: 50%;
  width: 45%;
  height: 45%;
  border-radius: 8px;
  transform: translateX(-50%);
  background: linear-gradient(180deg, rgba(64, 185, 255, 0.95) 0%, rgba(6, 47, 86, 0.9) 80%);
}

.lady__legs {
  margin-top: 4%;
  width: 28%;
  height: 32%;
  background: linear-gradient(90deg, #ffd0b5 0%, #f6b48c 100%);
  border-radius: 0 0 18px 18px;
  display: flex;
  gap: 18%;
  justify-content: center;
}

.lady__legs::before,
.lady__legs::after {
  content: "";
  width: 36%;
  height: 100%;
  background: linear-gradient(180deg, #ffd0b5 0%, #f0a674 100%);
  border-radius: 0 0 18px 18px;
  box-shadow: inset 0 -8px 8px rgba(0, 0, 0, 0.15);
}

.lady__splat {
  position: absolute;
  top: 20%;
  width: 80%;
  height: 70%;
  pointer-events: none;
  background: radial-gradient(circle at 60% 40%, rgba(252, 236, 185, 0.2) 0%, rgba(180, 128, 49, 0.6) 45%, rgba(92, 54, 8, 0.75) 100%);
  border-radius: 40% 55% 50% 60%;
  opacity: 0;
  transform: translate(-20%, -18%) scale(0.4) rotate(-20deg);
  filter: blur(1px);
  transition: transform 0.4s ease, opacity 0.4s ease;
}

.scene.stage-3 .lady__splat,
.scene.stage-4 .lady__splat {
  opacity: 1;
  transform: translate(-6%, -12%) scale(0.95) rotate(-8deg);
}

.crowd {
  position: absolute;
  left: 4%;
  bottom: 20%;
  display: flex;
  align-items: flex-end;
  gap: clamp(10px, 2vw, 26px);
}

.crowd__person {
  width: clamp(44px, 7vw, 64px);
  height: clamp(110px, 16vw, 150px);
  border-radius: 50% 50% 20% 20%;
  background: linear-gradient(180deg, #c3d437 0%, #7ea21f 70%, #546f12 100%);
  position: relative;
  box-shadow: 0 14px 28px rgba(43, 58, 12, 0.35);
  transform-origin: bottom center;
}

.crowd__person::before {
  content: "";
  position: absolute;
  top: -26%;
  left: 18%;
  width: 65%;
  height: 32%;
  background: linear-gradient(150deg, #ffd9c4 0%, #f0b097 60%);
  border-radius: 50%;
  box-shadow: inset 0 -6px 10px rgba(0, 0, 0, 0.18);
}

.crowd__person--1 {
  animation: crowd-bounce 1.4s ease-in-out infinite;
}

.crowd__person--2 {
  animation: crowd-bounce 1.4s ease-in-out 0.15s infinite;
}

.crowd__person--3 {
  animation: crowd-bounce 1.4s ease-in-out 0.3s infinite;
}

@keyframes crowd-bounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
}

.crowd__sign {
  position: relative;
  white-space: nowrap;
  padding: 0.55rem 0.9rem;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.94);
  color: #37430f;
  font-size: clamp(0.7rem, 1.6vw, 0.95rem);
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  box-shadow: 0 10px 20px rgba(28, 35, 8, 0.25);
  opacity: 0;
  transform: translateY(16px);
  transition: opacity 0.45s ease, transform 0.45s ease;
}

.scene.stage-4 .crowd__sign {
  opacity: 1;
  transform: translateY(0);
}

.audio-strip {
  position: absolute;
  left: 50%;
  bottom: clamp(1.2rem, 4vw, 2rem);
  transform: translateX(-50%);
  display: flex;
  gap: clamp(0.6rem, 2vw, 1.2rem);
}

.audio-strip__dot {
  width: clamp(14px, 2vw, 22px);
  height: clamp(14px, 2vw, 22px);
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.65);
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.6);
  opacity: 0.35;
  animation: audio-pop 1.2s ease-in-out infinite;
}

.audio-strip__dot--laugh {
  animation-delay: 0s;
}

.audio-strip__dot--cheer {
  animation-delay: 0.2s;
}

.audio-strip__dot--shutter {
  animation-delay: 0.4s;
}

@keyframes audio-pop {
  0%,
  100% {
    transform: scale(0.75);
    opacity: 0.3;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.9;
  }
}

.subtitle {
  position: absolute;
  left: 50%;
  bottom: clamp(2.6rem, 8vw, 3.8rem);
  transform: translateX(-50%);
  max-width: min(92%, 640px);
  text-align: center;
  color: #253107;
  font-size: clamp(0.9rem, 2vw, 1.2rem);
  letter-spacing: 0.04em;
  text-shadow: 0 2px 4px rgba(255, 255, 255, 0.6);
  opacity: 0;
  transition: opacity 0.4s ease;
}

.subtitle__text {
  display: inline-block;
  padding: 0.65rem 1.1rem;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.78);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.18);
  animation: subtitle-fade 0.6s ease;
}

@keyframes subtitle-fade {
  0% {
    opacity: 0;
    transform: translateY(6px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.scene.stage-0 .subtitle,
.scene.stage-1 .subtitle,
.scene.stage-2 .subtitle,
.scene.stage-3 .subtitle,
.scene.stage-4 .subtitle {
  opacity: 1;
}
